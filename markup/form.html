<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Card Share</title>
    <link rel="stylesheet" href="./shared.css" />
    <link rel="stylesheet" href="./reset.css" />
    <link rel="stylesheet" href="./card1.css" />
    <link rel="stylesheet" href="./form.css" />
    <script src="https://unpkg.com/ionicons@4.5.0/dist/ionicons.js"></script>
  </head>
  <body>
    <div class="nav">
      <div class="nav__container"><a href="#" class="logo">CARD SHARE</a></div>
    </div>

    <main class="main">
      <div class="wrapper">
        <form class="form" action="">
          <span class="form__label required">보내는 사람</span>
          <input class="form__input" type="text" name="from" required />
          <span class="form__label required">받는 사람</span>
          <input class="form__input" type="text" name="to" required />
          <span class="form__label required">제목</span>
          <input class="form__input" type="text" name="title" required />
          <span class="form__label required">하고싶은 말</span>
          <textarea
            class="form__input"
            name="content"
            cols="30"
            rows="5"
            required
          ></textarea>
        </form>
        <div class="buttons">
          <button class="button button--preview">미리보기</button>
          <button class="button">만들기</button>
        </div>
      </div>

      <div class="preview">
        <div class="wrapper">
          <div class="preview__top">
            <span class="preview__title" onclick="inputToCard()">미리보기</span>
            <span class="preview__close">&times;</span>
          </div>

          <div class="preview__content">
            <div class="scene scene--card">
              <div class="card__container">
                <div class="card">
                  <div class="card__face card__face--front">
                    <img
                      class="card__img"
                      src="https://sc01.alicdn.com/kf/HTB1LOnJNFXXXXcDXpXXq6xXFXXXR/200132811/HTB1LOnJNFXXXXcDXpXXq6xXFXXXR.jpg"
                      alt="card__img"
                    />
                    <div class="card__title">THANK YOU</div>
                  </div>
                  <div class="card__face card__face--back">
                    <div class="card__to">To. Tom</div>
                    <div class="card__content">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                      Mauris sodales, neque sit amet porttitor semper, nibh
                      risus auctor diam, sed interdum orci eros vel neque. Fusce
                      dolor massa, vehicula nec nunc a, dignissim gravida odio.
                    </div>
                    <div class="card__from">From. Jesse</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div class="footer"><div class="footer__container"></div></div>
  </body>

  <script>
    // form to card
    function inputToCard() {
      document.querySelector(
        ".card__title"
      ).textContent = document.getElementsByName("title")[0].value;
      document.querySelector(".card__from").textContent = `From ${
        document.getElementsByName("from")[0].value
      }`;
      document.querySelector(".card__to").textContent = `To ${
        document.getElementsByName("to")[0].value
      }`;
      document.querySelector(
        ".card__content"
      ).textContent = document.getElementsByName("content")[0].value;
    }

    // preview
    var previewButton = document.querySelector(".button--preview");
    var preview = document.querySelector(".preview");
    previewButton.addEventListener("click", function() {
      inputToCard();
      preview.classList.add("preview--open");
    });
    var previewClose = document.querySelector(".preview__close");
    previewClose.addEventListener("click", function() {
      preview.classList.remove("preview--open");
    });

    // card
    var card = document.querySelector(".card");
    card.addEventListener("click", function() {
      card.classList.toggle("is-flipped");
    });
    var cardFace = document.querySelector(".card__face");
    var cardImg = document.querySelector(".card__img");
    var cardTitle = document.querySelector(".card__title");
    cardTitle.style.height = `${cardFace.offsetHeight - cardImg.height}px`;
  </script>
</html>
